# シリアル化プリミティブ

[Avalanche](../../#avalanche)では、すべての内部データに簡単で一定の方式に従う洗練された表現を使用しています。このドキュメントでは、Avalancheプラットフォームでのプリミティブ型のエンコード方法について説明します。トランザクションは、これらの基本的なプリミティブ型を使ってエンコードされます。

## バイト

バイトはそのままでメッセージのペイロードにパックされます。

例：

```text
Packing:
    0x01
Results in:
    [0x01]
```

## ショート

ショートはBigEndianフォーマットでメッセージのペイロードにパックされます。

例：

```text
Packing:
    0x0102
Results in:
    [0x01, 0x02]
```

## 整数

整数は、BigEndianフォーマットでメッセージのペイロードにパックされた32ビットの値です。

例：

```text
Packing:
    0x01020304
Results in:
    [0x01, 0x02, 0x03, 0x04]
```

## 長整数

長整数は、BigEndianフォーマットでメッセージのペイロードにパックされた64ビットの値です。

例：

```text
Packing:
    0x0102030405060708
Results in:
    [0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08]
```

## IPアドレス

IPアドレスは、16バイトのIPv6フォーマットで表現され、ポートはメッセージのペイロードにショートとして埋め込まれます。IPv4アドレスは、先頭の0x00に12バイトを埋め込んでいます。

IPv4の例：

```text
Packing:
    "127.0.0.1:9650"
Results in:
    [
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0xff, 0xff, 0x7f, 0x00, 0x00, 0x01,
        0x25, 0xb2,
    ]
```

IPv6の例：

```text
Packing:
    "[2001:0db8:ac10:fe01::]:12345"
Results in:
    [
        0x20, 0x01, 0x0d, 0xb8, 0xac, 0x10, 0xfe, 0x01,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x30, 0x39,
    ]
```

## 固定長の配列

固定長の配列は、その長さを事前にコンテキストが認識するので、順番にパックされます。

バイト配列の例：

```text
Packing:
    [0x01, 0x02]
Results in:
    [0x01, 0x02]
```

整数配列の例：

```text
Packing:
    [0x03040506]
Results in:
    [0x03, 0x04, 0x05, 0x06]
```

## 可変長の配列

配列の長さは、整数フォーマットでプレフィックスが付けられ、その後に固定長配列フォーマットで配列のコンテンツがパックされます。

バイト配列の例：

```text
Packing:
    [0x01, 0x02]
Results in:
    [0x00, 0x00, 0x00, 0x02, 0x01, 0x02]
```

整数配列の例：

```text
Packing:
    [0x03040506]
Results in:
    [0x00, 0x00, 0x00, 0x01, 0x03, 0x04, 0x05, 0x06]
```

## 文字列

文字列は、可変長のバイト配列と同様にパックされます。ただし、プレフィックス長は整数ではなくショートです。文字列は、UTF-8フォーマットでエンコードされます。

例：

```text
Packing:
    "Avax"
Results in:
    [0x00, 0x04, 0x41, 0x76, 0x61, 0x78]
```

