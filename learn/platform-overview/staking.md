---
description: 検証または委任することでAvalancheにステークする方法を学びます。
---

# ステーキング

ステーキングとは、トークンをロックアップすることでネットワークをサポートしながら、その報酬を受け取るプロセスです。ステーキングというコンセプトは、PeercoinのSunny KingとScott Nadalによって[最初に導入](https://web.archive.org/web/20160306084128/https://peercoin.net/assets/paper/peercoin-paper.pdf)されました。

### プルーフオブステークはどのように機能するのか?

[sybil攻撃](https://support.avalabs.org/en/articles/4064853-what-is-a-sybil-attack)に抵抗するためには、分散型ネットワークでネットワーク影響が希少なリソースで支払われることを要求する必要があります。プルーフオブワークシステムでは、この希少なリソースはコンピューティングパワーです。Avalancheでは、リソースはネイティブトークンであるAVAXが適用されます。Avalanche上で、希少なリソースは、ネイティブトークン[AVAX](../../#avalanche-avax-token)です。Avalanche上でブロックチェーンを[検証](http://support.avalabs.org/en/articles/4064704-what-is-a-blockchain-validator)するためのノードには、AVAXをステークしなければなりません。

## Avalancheのステーキングパラメータ

プライマリネットワークのバリデータが完了したとき[、](http://support.avalabs.org/en/articles/4135650-what-is-the-primary-network)ステークされたAVAXトークンを返却します。ネットワークの安全を確保するための報酬を受け取る可能性があります。バリデータは、バリデータが有効期限中に十分にレスポンシブかつ修正が行われる場合にのみ[バリデーション報酬](http://support.avalabs.org/en/articles/4587396-what-are-validator-staking-rewards)を受け取ります。[Avalanche](https://files.avalabs.org/papers/token.pdf)トークンのホワイトペーパーを読んで、AVAXとステーキングのメカニズムについて詳しく知ることができます。

{% hint style="warning" %}ステーキング報酬は、ステーキング期間終了後、すべてのパラメーターが満たされる**限り、ウォレットアドレスに送信されます。**{% endhint %}

* バリデーターの最低ステーク額は2,000AVAX
* デリゲーターがによる委任最低額は25AVAX
* 検証のための資金のステーク最低期間は2週間
* 検証のための資金のステーク最大期間は1年
* 委任において資金をステークできる最低期間は2週間
* 委任において資金をステークできる最大期間は1年
* 最低委任料率は2％
* バリデータ（自身のステーク\+ステークが委任）の最大重量は、3e6 AVAXの最低値であり、バリデータがステークされた額の5倍のもの倍の最大重量です。たとえば、2,000 AVAXをステークしてバリデータになる場合、（デリゲーターごとにではなく）8000 AVAXのみがノード合計に委任することができます。
* 報酬を受け取るには、バリデーターは対象期間のうち60％以上の時間で正しくオンラインである必要がある

## バリデーター

**バリデータは、Avalancheの安全性を**確保し、新しいブロック/バーティを作成し、トランザクションを処理します。コンセンサスを実現するために、バリデータは、互いにサンプリングを繰り返します。与えられたバリデータがサンプルされる確率は、そのステークに比例します。

バリデータセットにノードを追加するときに以下を指定します：

* ノードID
* バリデーションを始める、停止したいとき
* ステークAVAX量
* 報酬を送付先のアドレス
* デリゲーション料率（下記参照）

{% hint style="info" %}バリデータがステークしなければならない最低金額は、2,000 AVAXです。{% endhint %}

{% hint style="danger" %}バリデータとしてノードを追加するトランザクションを発行した後、パラメーターを変更する方法は存在しないことに注意してください。**早期にステークを削除したり、ステーク額、ノードID、リワードアドレスを変更することはできません。**以下のAPIコールで正しい値を設定していることを確認してください。確かでない場合、[Discord](https://chat.avax.network)でヘルプを求めるか、開発[者向けFAQを](http://support.avalabs.org/en/collections/2618154-developer-faq)参照してください。{% endhint %}

### バリデータを実行する<a id="running-a-validator"></a>

バリデーターを実行して報酬を受け取るためには、ノードが接続されていることが重要です。[こちら](http://support.avalabs.org/en/articles/4594192-networking-setup)を参照してください。

バリデーターを追加するためにトランザクションを発行すると、管理アドレスからステークトークンとトランザクション手数料が差し引かれます。バリデーションが完了すると、ステーク資金は元のアドレスに返却されます。獲得した報酬は、バリデーターを追加した際に指定したアドレスに送付されます。

#### APIコールを許可する<a id="allow-api-calls"></a>

リモートマシンからAPI呼び出しを行い、APIポート上のトラフィックを許可し、（デフォルト`9650`で）引数でノードを実行する`--http-host=`

コマンドライン引数を介して使用しないすべてのAPIを無効にする必要があります。信頼されたマシン \(例：PCなど\) からのAPIポートへのアクセスのみを許可するようにネットワークを構成する必要があります。

#### 稼働時間が低い理由は？<a id="why-is-my-uptime-low"></a>

Avalanche上の全てのバリデータは、他のバリデータの稼働時間を追跡します。`info.peers`ノードが持つ接続、および各接続の稼働時間を呼び出すことで確認できます。**これは、ノードビューポイントの一つだけです**。他のノードは、あなたのノードの稼働時間を異なって認識することができます。あるノードで稼働率が低くなっていると認識されるからといって、ステーキング報酬が受取られないということではありません。

あなたのノードが他のノードに接続されていない可能性が高い理由は、NATトラバーサルに失敗し、ノードを起動しません`--public-ip=[NODE'S PUBLIC IP]`。将来的には、ノードが接続されているかどうかを簡単に確認できるように、より良い監視機能を追加する予定です。

#### 秘密管理<a id="secret-management"></a>

バリデーションノードに必要なシークレット要素は、ノードのIDを決定するTLSキーであるStaking Keyだけです。初めてノードを開始する際に、ステーキングキーが作成され、入力されます`$HOME/.avalanchego/staking/staker.key`。このファイル（そして`staker.crt`）を安全な場所にバックアップする必要があります。ステーキングキーを失うと、あなたのノードは新しいIDを持つことになりバリデーション報酬が危険にさらされる可能性があります。

バリデーションノードにAVAXを保持する必要はありません。**実際、あなたのノード上に多くの資金を**稼働しないのはベストプラクティスです。ほとんどすべての資金は、その秘密鍵がいかなるコンピュータ上に存在しないアドレスで、「コールド」で存在するはずです。

#### モニタリング<a id="monitoring"></a>

このチュートリアルでは、ノードのアップタイムや一般的な稼働状態を監視する方法を学びます。

{% page-ref page="../../build/tutorials/nodes-and-staking/setting-up-node-monitoring.md" %}

## デリゲーター

デリゲーターとは、ステークで貢献する上で既存のバリデーターノードを信頼して保有トークンを委任することを選択したトークンホルダーのことです。

バリデーターに委任する際には以下を指定します：

* 委任先のノード ID
* ステークの開始/停止したい場合（バリデータが有効である中に必須）
* ステークAVAX量
* 報酬を送付先のアドレス

{% hint style="info" %}デリゲーターが25AVAXで委任する必要があります。{% endhint %}

{% hint style="danger" %}デリゲータにステークを追加する為にトランザクションを発行した後、パラメータを変更する方法は存在しないことに注意してください。**早期にステークを削除したり、ステーク額、ノードID、リワードアドレスを変更することはできません。**確かでない場合、[Discord](https://chat.avax.network)でヘルプを求めるか、開発[者向けFAQを](http://support.avalabs.org/en/collections/2618154-developer-faq)参照してください。{% endhint %}

### Delegator報酬<a id="delegator-rewards"></a>

トークン委任先のバリデーターが正しい稼働をしている場合は、 委任が完了した時点で報酬を受け取ることができます。デリゲーターはバリデーターと同じシステムに従って報酬を受け取ります。ただし、バリデーターはデリゲーション料率で指定された報酬の一部を保持します。

トークンを委任するためにトランザクションを発行すると、アドレスからステークトークンとトランザクション手数料が差し引かれます。委任が完了するとステークトークンはアドレスに返却されます。報酬を獲得した場合は、トークンを委任した際に指定したアドレスに送られます。

